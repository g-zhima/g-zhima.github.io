<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>HTML5 标签嵌套的问题 | ZHIMA | CODE IS POETRY</title>

  
  <meta name="author" content="芝麻小关">
  

  
  <meta name="description" content="一直认为 HTML 标签嵌套的问题很简单,直到有同学问我 &amp;lt;p&amp;gt; 标签和 &amp;lt;div&amp;gt; 标签嵌套的问题后，我才发现原来标签嵌套也有这么多的细节，这篇博客就总结一下查到的东西。



首先是之前一直学的嵌套规则：

块级元素可以嵌套块级元素和行内元素。
行内元素可以嵌套行内元素但">
  

  
  <meta name="keywords" content="blog">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="HTML5 标签嵌套的问题"/>

  <meta property="og:site_name" content="ZHIMA"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="ZHIMA" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 5.1.1"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">ZHIMA</a>
    </h1>
    <p class="site-description">CODE IS POETRY</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>HTML5 标签嵌套的问题</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2020/09/01/HTML5标签嵌套的问题/" rel="bookmark">
        <time class="entry-date published" datetime="2020-09-01T07:56:48.000Z">
          2020-09-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>一直认为 HTML 标签嵌套的问题很简单,直到有同学问我 <code>&lt;p&gt;</code> 标签和 <code>&lt;div&gt;</code> 标签嵌套的问题后，我才发现原来标签嵌套也有这么多的细节，这篇博客就总结一下查到的东西。</p>
<div align="middle"><image  src="http://wx4.sinaimg.cn/large/ceeb653ely1gcesg5qzejg20k00k0npd.gif" width="200px"  />
</div>

<p>首先是之前一直学的嵌套规则：</p>
<ul>
<li>块级元素可以嵌套块级元素和行内元素。</li>
<li>行内元素可以嵌套行内元素但不能嵌套块级元素。</li>
</ul>
<p>乍一看没什么问题，但实际网页中似乎有违背这些规则的情况出现。</p>
<p>首先是同为块级元素的 <code>&lt;p&gt;</code> 标签和 <code>&lt;div&gt;</code> 标签嵌套问题，在 <code>&lt;p&gt;</code> 中嵌套 <code>&lt;div&gt;</code> 没有违背嵌套规则，但在浏览器解析时会出现严重的问题：会直接将 <code>&lt;div&gt;</code> 标签包裹在两个 <code>&lt;p&gt;</code> 标签之间。这没有合适的解释，大家都按特殊规则进行记忆。</p>
<p>另一个情况就是会经常看到 <code>&lt;a&gt;</code> 标签中嵌套 <code>&lt;div&gt;</code> 等块级标签，这显然也违背了行内元素不能嵌套块级标签的规则，但事实上很多网站都用了这样的规则。</p>
<div align="middle"><image  src="http://ww1.sinaimg.cn/bmiddle/9150e4e5gy1gcm9bvhjcjj205i05igli.jpg" width="200px"  />
</div>

<p>于是，有事上 google，我发现之前学过的嵌套规则其实属于淘汰后的规则，新的 HTML5 嵌套规则有了很大的区别。</p>
<p>之前的规则把元素分成了块级和行内级，这其实是基于 CSS 样式的分类方式，而 HTML5 新的规范其实一直想强调语义并弱化样式，这样有助于结构和样式的分离，这在 HTML5 中删除了许多定义样式的标签和属性，新增了无样式的语义标签也可以看出。</p>
<p>那新的嵌套规则是什么呢？且听我慢慢道来~~</p>
<div align="middle"><image  src="http://ww1.sinaimg.cn/bmiddle/9150e4e5gy1gch4lajq3vj205i041dfq.jpg" width="200px"  />
</div>

<p>在新的规范中，标签最常见的有 7 类，并且每种标签可以有多个类型。</p>
<ul>
<li>元数据内容（Metadata content）</li>
<li>流式元素（Flow content）</li>
<li>章节元素（Sectioning content）</li>
<li>标题元素（Heading content）</li>
<li>短语/段落元素（Phrasing content）</li>
<li>嵌入元素（Embedded content）</li>
<li>交互元素（Interactive content）</li>
</ul>
<p>具体每个分类中有哪些标签，我就懒得写了，丢个 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Content_categories">MDN</a> 链接自行查找。</p>
<div align="middle"><image  src="http://ww2.sinaimg.cn/bmiddle/6af89bc8gw1f8q3pgl57oj20b407fmx7.jpg" width="200px"  />
</div>

<p>可以看出新规范的分类方法更加重视了语义，这与 HTML 本身要表达的意思也更符合。每种分类都有相对应的嵌套规则，下面来看几个代表性强的例子：</p>
<blockquote>
<p>首先是 <code>&lt;p&gt;</code> 标签，查看 MDN 可知它属于 Flow content，palpable content。它接受的内容为 Phrasing content。而 Phrasing content 中并没有 <code>&lt;div&gt;</code> 标签，所以按规则 <code>&lt;p&gt;</code> 标签是不能嵌套 <code>&lt;div&gt;</code> 标签的。</p>
</blockquote>
<blockquote>
<p>然后看看 <code>&lt;div&gt;</code> 标签，它允许的子元素是 Flow content，而流式元素基本涵括了页面中的大部分元素，所以我们在用<div>时可以不用担心嵌套错误的问题。</p>
</blockquote>
<blockquote>
<p>那 <code>&lt;a&gt;</code> 标签呢？它稍微特殊一点，它允许的子元素中有个 Transparent，所以它接受的子元素是以它父元素接受的元素为准的，但不能包含交互式元素。所以在新规范下就很明确了，<code>&lt;a&gt;</code> 标签是可以嵌套 <code>&lt;div&gt;</code> 标签的，只要 <code>&lt;a&gt;</code> 标签的父元素可以嵌套 <code>&lt;div&gt;</code> 就行。</p>
</blockquote>
<p>最后，我们可以把嵌套规则分成：严格嵌套约束、语义嵌套约束。严格的嵌套约束是必须遵守的，不然会导致浏览器的解析错误，比如 <code>&lt;p&gt;</code> 标签中嵌套 <code>&lt;div&gt;</code> 标签，<code>&lt;a&gt;</code> 标签中嵌套 <code>&lt;a&gt;</code>标签。语义嵌套相对没那么严格，浏览器也会正确解析，但在实际开发还是要尽量遵守，保证语义正确。</p>
<div align="middle"><image  src="http://ww3.sinaimg.cn/bmiddle/9150e4e5gy1gbz6hdf5kfj20ed0ag750.jpg" width="200px"  />
</div>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/HTML/">HTML</a>
    </span>
    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2020 芝麻小关
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>